<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Painel do Admin - Reservas Pendentes</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .btn-marrom {
      background-color: #8B5E3C;
      color: white;
      font-weight: bold;
      border: none;
    }
    .btn-marrom:hover {
      background-color: #5C3A21;
    }
  </style>
</head>
<body>
  <div class="container mt-5">
    <h2 class="text-center mb-4">Reservas Pendentes</h2>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ 'success' if category == 'sucesso' else 'danger' }}">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    {% if reservas and reservas|length > 0 %}
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Usuário</th>
            <th>Email</th>
            <th>Profissional</th>
            <th>Serviço</th>
            <th>Data e Hora</th>
            <th>Ações</th>
          </tr>
        </thead>
        <tbody>
          {% for reserva in reservas %}
          <tr>
            <td>{{ reserva.usuario }}</td>
            <td>{{ reserva.email }}</td>
            <td>{{ reserva.profissional }}</td>
            <td>{{ reserva.servico }}</td>
            <td>{{ reserva.data_hora }}</td>
            <td>
              <a href="{{ url_for('admin_confirmar', indice=loop.index0) }}" class="btn btn-marrom btn-sm">Confirmar</a>
              <a href="{{ url_for('admin_cancelar', indice=loop.index0) }}" class="btn btn-danger btn-sm">Recusar</a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p class="text-center">Não há reservas pendentes no momento.</p>
    {% endif %}

    <div class="text-center mt-4">
      <a href="{{ url_for('logout') }}" class="btn btn-danger">Sair</a>
    </div>
  </div>
</body>
</html>
