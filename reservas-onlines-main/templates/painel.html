<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Painel</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
  <link rel="stylesheet" href="/static/painel.css">
</head>
<body>
  <div class="container text-center mt-5">
    <h2>Bem-vindo, {{ usuario }}</h2>

    <div class="d-flex justify-content-center gap-3 flex-wrap mt-4">
      <button class="btn btn-marrom d-flex align-items-center gap-2" onclick="toggleReserva()">
        <span class="icon">event</span> Fazer Reserva
      </button>

      <a href="/reservas" class="btn btn-2 d-flex align-items-center gap-2">
        <span class="icon">list_alt</span> Minhas Reservas
      </a>

      <a href="/logout" class="btn btn-danger d-flex align-items-center gap-2">
        <span class="icon">logout</span> Sair
      </a>
    </div>

    <div id="formReserva" class="reserva-form" style="display: none;">
      <form method="POST" action="/reserva">
        <h4 class="mb-3">Nova Reserva</h4>

        {% if erro %}
          <div class="alert alert-danger">{{ erro }}</div>
        {% endif %}

        <div class="mb-3 text-start">
          <label for="nome">Nome completo</label>
          <input type="text" class="form-control" name="nome" required>
        </div>

        <div class="mb-3 text-start">
          <label for="email">Email</label>
          <input type="email" class="form-control" name="email" required>
        </div>

        <div class="mb-3 text-start">
          <label for="tipo">Tipo de Serviço</label>
          <select name="tipo" class="form-control" required>
            <option value="">Selecione...</option>
            <option value="Cabelereiro">Cabelereiro</option>
            <option value="Barbeiro">Barbeiro</option>
            <option value="Manicure">Manicure</option>
            <option value="Estética">Estética</option>
            <option value="Depilação">Depilação</option>
            <option value="Massagem">Massagem</option>
            <option value="Maquiagem">Maquiagem</option>
            <option value="Outro">Outro</option>
          </select>
        </div>

        <div class="mb-3 text-start">
          <label for="data">Data da Reserva</label>
          <input type="date" class="form-control" name="data" required>
        </div>

        <div class="mb-3 text-start">
          <label for="hora">Horário da Reserva</label>
          <input type="time" class="form-control" name="hora" required>
        </div>

        <button type="submit" class="btn btn-marrom w-100">Reservar</button>
      </form>
    </div>
  </div>

  <script> //caso o formulário esteja invicível ele vai mostrar, porém se estiver à mostra ele esconde
    function toggleReserva() {
      const form = document.getElementById('formReserva');
      form.style.display = form.style.display === 'none' ? 'block' : 'none';
    }
  </script>
  
</body>
</html>
