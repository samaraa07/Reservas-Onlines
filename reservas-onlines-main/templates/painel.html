<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Painel</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
  <style>
    .reserva-form {
      margin-top: 2rem;
      background-color: #fff9f5;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(91, 61, 39, 0.15);
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .btn-brown {
      background-color: #8B5E3C;
      color: white;
      font-weight: bold;
      border: none;
    }

    .btn-brown:hover {
      background-color: #5C3A21;
    }

    .material-symbols-outlined {
      font-variation-settings: 'FILL' 0, 'wght' 500, 'GRAD' 0, 'opsz' 24;
    }

    .gap-2 {
      gap: 0.5rem;
    }

    .gap-3 {
      gap: 1rem;
    }
  </style>
</head>
<body>
  <div class="container text-center mt-5">
    <h2>Bem-vindo, {{ usuario }}</h2>

    <div class="d-flex justify-content-center gap-3 flex-wrap mt-4">
      <button class="btn btn-brown d-flex align-items-center gap-2" onclick="toggleReserva()">
        <span class="material-symbols-outlined">event</span> Fazer Reserva
      </button>

      <a href="/reservas" class="btn btn-secondary d-flex align-items-center gap-2">
        <span class="material-symbols-outlined">list_alt</span> Minhas Reservas
      </a>

      <a href="/logout" class="btn btn-danger d-flex align-items-center gap-2">
        <span class="material-symbols-outlined">logout</span> Sair
      </a>
    </div>

    <div id="formReserva" class="reserva-form" style="display: none;">
      <form method="POST" action="/reserva">
        <h4 class="mb-3">Nova Reserva</h4>

        {% if erro %}
          <div class="alert alert-danger">{{ erro }}</div>
        {% endif %}

        <div class="mb-3 text-start">
          <label for="nome">Nome completo</label>
          <input type="text" class="form-control" name="nome" required>
        </div>

        <div class="mb-3 text-start">
          <label for="email">Email</label>
          <input type="email" class="form-control" name="email" required>
        </div>

        <div class="mb-3 text-start">
          <label for="tipo">Tipo de Serviço</label>
          <select name="tipo" class="form-control" required>
            <option value="">Selecione...</option>
            <option value="Cabelereiro">Cabelereiro</option>
            <option value="Barbeiro">Barbeiro</option>
            <option value="Manicure">Manicure</option>
            <option value="Estética">Estética</option>
            <option value="Depilação">Depilação</option>
            <option value="Massagem">Massagem</option>
            <option value="Maquiagem">Maquiagem</option>
            <option value="Outro">Outro</option>
          </select>
        </div>

        <div class="mb-3 text-start">
          <label for="data">Data da Reserva</label>
          <input type="date" class="form-control" name="data" required>
        </div>

        <div class="mb-3 text-start">
          <label for="hora">Horário da Reserva</label>
          <input type="time" class="form-control" name="hora" required>
        </div>

        <button type="submit" class="btn btn-brown w-100">Reservar</button>
      </form>
    </div>
  </div>

  <script>
    function toggleReserva() {
      const form = document.getElementById('formReserva');
      form.style.display = form.style.display === 'none' ? 'block' : 'none';
    }
  </script>
</body>
</html>
